# ============================================
# CreativeMicroInk Backend - Production Environment Variables
# Copy this file to .env for local production testing
# For deployment platforms, set these in their respective dashboards
# ============================================

# ===================
# Server Configuration
# ===================
# Port the server listens on (Render uses PORT=10000 by default)
PORT=3001

# Environment mode - MUST be 'production' for production deployments
NODE_ENV=production

# ===================
# CORS Configuration
# ===================
# Frontend URL(s) allowed to make API requests
# For multiple origins, use comma-separated values in code or update CORS config
# Example: https://creativemicroink.vercel.app
FRONTEND_URL=https://your-frontend-domain.com

# ===================
# Database Configuration
# ===================
# PostgreSQL connection string (required)
# Format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE?sslmode=require
#
# For Render PostgreSQL:
#   - Automatically provided via Internal Database URL
#   - Format: postgres://user:pass@dpg-xxxx-a.oregon-postgres.render.com/dbname
#
# For Supabase:
#   - Found in Project Settings > Database > Connection String
#   - Use "Connection pooling" URL for serverless
#
# For Neon:
#   - Found in Dashboard > Connection Details
#   - Use pooled connection string
#
# IMPORTANT: Always use SSL in production (?sslmode=require)
DATABASE_URL=postgresql://username:password@hostname:5432/database_name?sslmode=require

# ===================
# JWT Authentication
# ===================
# Secret key for signing JWT tokens (required)
# CRITICAL: Use a strong, unique random string (min 32 characters)
# Generate with: openssl rand -base64 32
# Or: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
JWT_SECRET=your-super-secret-production-key-min-32-chars

# JWT token expiration time
# Formats: 60, "2 days", "10h", "7d"
JWT_EXPIRES_IN=7d

# ===================
# Cloudinary Configuration (Image Storage)
# ===================
# Required for image upload functionality
# Get these from: https://cloudinary.com/console
#
# Cloud name - Your Cloudinary account identifier
CLOUDINARY_CLOUD_NAME=your_cloud_name

# API Key - Found in Dashboard > Account Details
CLOUDINARY_API_KEY=123456789012345

# API Secret - Found in Dashboard > Account Details (keep secret!)
CLOUDINARY_API_SECRET=your-api-secret-key

# Upload Preset (optional) - For unsigned uploads
# Create at: Settings > Upload > Upload presets
CLOUDINARY_UPLOAD_PRESET=your_upload_preset

# ===================
# Rate Limiting (Optional)
# ===================
# Maximum requests per window (default: 100)
# RATE_LIMIT_MAX=100

# Rate limit window in milliseconds (default: 15 minutes)
# RATE_LIMIT_WINDOW_MS=900000

# ===================
# Logging (Optional)
# ===================
# Log level: error, warn, info, debug
# LOG_LEVEL=info

# ===================
# Security Notes
# ===================
# 1. NEVER commit .env files with real credentials
# 2. Use environment variables in deployment platforms
# 3. Rotate JWT_SECRET periodically
# 4. Use strong database passwords
# 5. Enable SSL/TLS for all connections
# 6. Review and restrict CORS origins
# ============================================
